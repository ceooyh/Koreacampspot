<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kcs.mapper.MemberMapper">
	<select id="login" parameterType="map" resultType="member">
		select * from member where id like #{id} and pass like #{pass}
	</select>
	<insert id="guestJoin" parameterType="member">
		insert into member values(#{id}, #{pass}, #{name}, #{tel1}, #{tel2}, #{tel3}, to_date(#{birth}, 'YYYY-MM-DD'), #{email1}, #{email2}, #{gender}, #{user_type})
	</insert>
	<insert id="guestFavoriteJoin" parameterType="favorite">
		insert into favorite values(#{id}, #{stag})
	</insert>
	<insert id="businessJoin" parameterType="member">
		insert into member values(#{id}, #{pass}, #{name}, #{tel1}, #{tel2}, #{tel3}, #{birth}, #{email1}, #{email2}, #{gender}, #{user_type})
	</insert>
	<insert id="insertBusiness" parameterType="business">
		insert into business values(SEQ_BUSINESS_BNO.NEXTVAL, #{id}, #{business_no})
	</insert>
	<select id="idCheck" parameterType="String" resultType="String">
		select id from member where id like #{id}
	</select>
	<select id="findPw" parameterType="map" resultType="String">
		select pass from member where id like #{id} and name like #{name} and email1 like #{email1} and email2 like #{email2}
	</select>
</mapper>